import{initializeApp as d}from"https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";import{getFirestore as l,query as u,collection as p,where as c,getDocs as f}from"https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();const m={apiKey:"AIzaSyCs_0Z_Cj2Zee3VlU0LRqyeH-tKSmJS-vo",authDomain:"trade-selector-f459f.firebaseapp.com",projectId:"trade-selector-f459f",storageBucket:"trade-selector-f459f.appspot.com",messagingSenderId:"139697343231",appId:"1:139697343231:web:5e4438311591ff9a2f9aca"},g=d(m),y=l(g);async function h(){const s=document.getElementById("searchTradeForm").value.trim().toLowerCase();let r=document.getElementById("suggestionsContainer");if(r.innerHTML="",s.length<2){r.style.display="none";return}try{const n=u(p(y,"trades_products"),c("trade_name_lowercase",">=",s),c("trade_name_lowercase","<=",s+"ï£¿")),i=await f(n);let e=[];if(i.forEach(t=>{const o=t.data();e.push({trade_name:o.trade_name,product_type:o.product_type,quote_form_url:o.quote_form_url})}),e.length>0){r.style.display="block",r.style.position="absolute";const t=document.getElementById("searchTradeForm").getBoundingClientRect();r.style.top=`${t.bottom+window.scrollY}px`,r.style.left=`${t.left+window.scrollX}px`,r.style.width=`${t.width}px`,e.forEach(o=>{const a=document.createElement("div");a.classList.add("dropdown-item"),a.innerHTML=`
          <strong>${o.trade_name}</strong> - ${o.product_type}
          <br>
          <a href="${o.quote_form_url}" target="_blank">Get Quote</a>
        `,r.appendChild(a)})}else r.style.display="none"}catch(n){console.error("Error fetching trade suggestions: ",n)}}const _=document.getElementById("suggestionsContainer");document.body.appendChild(_);document.getElementById("searchTradeForm").addEventListener("input",h);
